<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <meta name="Anthor" content="冖於忄" />
        <title>冖於忄</title>
        <style>
            *{ margin:0; padding:0;font-family:"Microsoft yahei",serif;}
            li{ list-style-type: none;}
            #box{
                    width: 50%;
                    margin: 0 auto;
                }
        </style>
<script src="/js/jquery-1.11.3.min.js"></script>

    </head>
    <body>
        <div id="box">
            <p>======================================================</p>
            <form action="/regist" method="post">
                注册<br>
                <input type="text" name="user" id="ruser" placeholder="用户名">
                <input type="password" name="password" id="rpassword" placeholder="密码">
                <input type="button" name="regist" value="注册" id="regist">
            </form>
            <p>======================================================</p>
            <form action="/login" method="post">
                登录<br>
                <input type="text" name="user" id="luser" placeholder="用户名">
                <input type="password" name="password" id="lpassword" placeholder="密码">
                <input type="button" name="login" value="登录" id="login">
            </form>
            <p>======================================================</p>
        </div>
    </body>
<script type="text/javascript">
    //注册
    $("#regist").click(function (){
        $.post("/regist",{
            "user":$("#ruser").val(),
            "password":$("#rpassword").val()
        },function (result){
            console.log(result);
            if (result.stats==="-1"){                    //不知名错误
                alert(result.msg);
            }else if (result.stats==="-2"){              //用户名已存在
                alert(result.msg);
            }else if(result.stats==="1"){                                          //成功注册
                alert(result.msg);
            }
        });
    });

    //登录
    $("#login").click(function (){
        $.post("/login",{
            "user":$("#luser").val(),
            "password":$("#lpassword").val()
        },function (result){
            //console.log(result);
            if (result.stats==="-1"){                    //不知名错误
                alert(result.msg);
            }else if (result.stats==="-2"){              //没有这个用户名
                alert(result.msg);
            }else if(result.stats==="-3"){                //密码错误
                alert(result.msg);
            }else if(result.stats==="1"){                //成功登录
                alert(result.msg);
                window.location="/";
            }
        });
    });

</script>
</html>













